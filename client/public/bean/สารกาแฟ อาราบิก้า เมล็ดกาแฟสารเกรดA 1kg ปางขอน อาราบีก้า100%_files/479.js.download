(self.webpackChunk_ali_psolution_lzd_head_foot=self.webpackChunk_ali_psolution_lzd_head_foot||[]).push([[479,776,561],{3444:function(e,t,n){n.r(t),n.d(t,{default:function(){return r}});var a=n(1543),o=n(5033),l=function(){function e(){(0,a._)(this,e),this.bindEvents()}return(0,o._)(e,[{key:"hoverDelay",value:function(e,t,n,a,o){var l=o||150,r=a||120;e.forEach((function(e,a){var o,i,u,c;null===(o=e)||void 0===o||o.addEventListener("mouseenter",(function(e){clearTimeout(c),t&&(u=setTimeout((function(){return t(e)}),r))})),null===(i=e)||void 0===i||i.addEventListener("mouseleave",(function(e){clearTimeout(u),n&&(c=setTimeout((function(){return n(e)}),l))}))}))}},{key:"expandMenu",value:function(e,t){var n,a;if("sub"===e){var o,l,r=t.target.id;r&&(null===(l=document.querySelector(".lzd-site-menu-".concat(e,".").concat(r)))||void 0===l||null===(o=l.classList)||void 0===o||o.add("lzd-site-menu-".concat(e,"-active")))}else{var i,u;null===(u=t.target.querySelector(".lzd-site-menu-".concat(e)))||void 0===u||null===(i=u.classList)||void 0===i||i.add("lzd-site-menu-".concat(e,"-active"))}null===(a=t.target.querySelector(".lzd-site-menu-root-item-link"))||void 0===a||null===(n=a.classList)||void 0===n||n.add("hover")}},{key:"bindEvents",value:function(){var e=this,t=document.querySelectorAll(".lzd-site-menu-root");this.hoverDelay(t,null,(function(e){var t,n,a;null===(a=e.target)||void 0===a||null===(n=a.querySelector(".lzd-site-menu-sub-active"))||void 0===n||null===(t=n.classList)||void 0===t||t.remove("lzd-site-menu-sub-active"),Array.from(e.target.querySelectorAll(".lzd-site-menu-root-item")).forEach((function(e){var t,n;return null===(n=e.querySelector(".lzd-site-menu-root-item-link"))||void 0===n||null===(t=n.classList)||void 0===t?void 0:t.remove("hover")}))}));var n=document.querySelectorAll(".lzd-site-menu-root .lzd-site-menu-root-item");this.hoverDelay(n,(function(t){e.expandMenu("sub",t);var n=t.target.id;document.querySelectorAll(".lzd-site-menu-sub:not(.".concat(n,")")).forEach((function(e){return e.classList.remove("lzd-site-menu-sub-active")})),Array.from(t.target.parentNode.children).filter((function(e){return e.id!==n})).forEach((function(e){var t,n;return null===(n=e.querySelector(".lzd-site-menu-root-item-link"))||void 0===n||null===(t=n.classList)||void 0===t?void 0:t.remove("hover")}))}),null);var a=document.querySelectorAll(".lzd-site-menu-root .lzd-site-menu-sub-item");this.hoverDelay(a,(function(t){var n,a,o,l;(null===(a=t.target.parentElement)||void 0===a||null===(n=a.classList)||void 0===n?void 0:n.contains("lzd-site-menu-sub-active"))||null===(l=t.target.parentElement)||void 0===l||null===(o=l.classList)||void 0===o||o.add("lzd-site-menu-sub-active"),e.expandMenu("grand",t)}),(function(e){var t,n,a,o;null===(n=e.target.querySelector(".lzd-site-menu-grand"))||void 0===n||null===(t=n.classList)||void 0===t||t.remove("lzd-site-menu-grand-active"),null===(o=e.target.querySelector(".lzd-site-menu-root-item-link"))||void 0===o||null===(a=o.classList)||void 0===a||a.remove("hover")}))}}]),e}();function r(){new l}},4479:function(e,t,n){n.r(t),n.d(t,{default:function(){return l}});var a=n(1036),o=n(3444);function l(){(0,a.fetchCategoryList)().then((function(e){!function(e){var t,n,a='<div class="lzd-site-menu-nav-menu"><div class="lzd-site-nav-menu-dropdown" data-config="{}">';if((null===(t=e)||void 0===t?void 0:t.length)>0){var o,l,r,i=null===(o=e)||void 0===o?void 0:o.slice(0,12);a+='<ul class="lzd-site-menu-root" data-spm="cate">',null===(l=i||[])||void 0===l||l.map((function(e){var t=e.childId,n=e.categoryName;a+='<li class="lzd-site-menu-root-item" id='.concat(t,'><div class="lzd-site-menu-root-item-link"><span>').concat(n,"</span></div></li>")})),null===(r=i||[])||void 0===r||r.map((function(e,t){var n,o,l=e.childId,r=e.level2TabList,i=void 0===r?[]:r;a+='<ul class="lzd-site-menu-sub '.concat(l,'" data-spm="cate_').concat(t+1,'">'),null===(o=(null===(n=i)||void 0===n?void 0:n.slice(0,12))||[])||void 0===o||o.map((function(e,n){var o,l,r,i,u,c=e.categoryUrl,s=e.categoryName,d=e.level3TabList,v=null===(o=void 0===d?[]:d)||void 0===o?void 0:o.slice(0,12);u=(null===(l=v)||void 0===l?void 0:l.length)>0?"lzd-site-menu-sub-item":"sub-item-remove-arrow",a+='<li class="'.concat(u,'" data-cate="cate_').concat(t+1,"_").concat(n+1,'"><a href="').concat(c,'" class="lzd-site-menu-root-item-link"><span>').concat(s,"</span></a>"),(null===(r=v)||void 0===r?void 0:r.length)>0&&(a+='<ul class="lzd-site-menu-grand" data-spm="cate_'.concat(t+1,"_").concat(n+1,'">'),null===(i=v||[])||void 0===i||i.map((function(e){var t=e.categoryName,n=e.categoryUrl;t&&n&&(a+='<li class="lzd-site-menu-grand-item"><a href="'.concat(n,'"><span>').concat(t,"</span></a></li>"))})),a+="</ul>"),a+="</li>"})),a+="</ul>"})),a+="</ul>"}a+="</div></div>",null===(n=document.querySelector(".lzd-site-menu-nav-category"))||void 0===n||n.insertAdjacentHTML("beforeend",a)}(e),(0,o.default)()})).catch((function(e){console.log(e,"fetch category tree error")}))}},8860:function(e,t,n){n.r(t);var a=n(4885),o=n(2483),l=n(813),r=n(6614),i=n(4218),u=function(){var e=(0,a._)((function(e,t){var n,a,u,c,s,d;return(0,l.Jh)(this,(function(l){switch(l.label){case 0:return n=Date.now(),a={key:"",staleTime:1e3},u=(0,o._)({},a,e),c={data:{},clear:function(){return(0,r.removeLocalStorage)(u.key)}},(s=(0,r.getLocalStorage)(u.key))&&s.regionID===i.regionID&&s.language===i.language&&s.value&&s.time&&(n-s.time<u.staleTime||-1===u.staleTime)?(c.data=s.value,[3,8]):[3,1];case 1:if("function"!==typeof t)return[3,6];l.label=2;case 2:return l.trys.push([2,4,,5]),[4,t()];case 3:return d=l.sent(),[3,5];case 4:return l.sent(),console.error("Failed to obtain initial data, please check the function!"),[3,5];case 5:return[3,7];case 6:d=t,l.label=7;case 7:(0,r.setLocalStorage)(u.key,{time:n,regionID:i.regionID,language:i.language,value:d}),c.data=d,l.label=8;case 8:return[2,c]}}))}));return function(t,n){return e.apply(this,arguments)}}();t.default=u},6614:function(e,t,n){n.r(t),n.d(t,{getLocalStorage:function(){return a},removeLocalStorage:function(){return l},setLocalStorage:function(){return o}});var a=function(e){try{return JSON.parse(window.localStorage.getItem(e)||"{}")}catch(t){return}},o=function(e,t){try{window.localStorage.setItem(e,JSON.stringify(t))}catch(n){console.log(n)}},l=function(e){try{window.localStorage.removeItem(e)}catch(t){console.log(t)}}},1036:function(e,t,n){n.r(t),n.d(t,{fetchCategoryList:function(){return c}});var a=n(4885),o=n(813),l=n(6505),r=n(4218),i=n(8860),u=function(){var e=(0,a._)((function(e){return(0,o.Jh)(this,(function(t){return[2,l.Z.request(e)]}))}));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=(0,a._)((function(){var e,t,n,l,c,s,d,v,m;return(0,o.Jh)(this,(function(f){switch(f.label){case 0:e={regionId:r.regionID,language:r.language,platform:"pc",isbackup:"true",backupParams:"language,regionID,platform,pageNo",moduleName:"categoriesLpMultiFloor"},f.label=1;case 1:return f.trys.push([1,5,,6]),[3,2];case 2:return[4,(0,i.default)({key:"categoryList",staleTime:3e5},(0,a._)((function(){return(0,o.Jh)(this,(function(t){switch(t.label){case 0:return[4,u({api:"mtop.lazada.guided.shopping.categories.categoriesLpCommon",data:e})];case 1:return[2,t.sent()]}}))})))];case 3:return c=f.sent(),s=c.data,d=s.data,v=null===(n=d)||void 0===n||null===(t=n.resultValue)||void 0===t?void 0:t.categoriesLpMultiFloor,[2,(null===(l=v)||void 0===l?void 0:l.data)||[]];case 4:return[3,6];case 5:return m=f.sent(),console.log(m),[3,6];case 6:return[2]}}))}));return function(){return e.apply(this,arguments)}}()}}]);